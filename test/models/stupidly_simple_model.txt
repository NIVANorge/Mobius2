
model("Simple test model") {
	
	md : module("So very simple", version(1, 1, 0)) {
		
		var(a.q, [], "A Q") .initial { ia }
		
		par_group("Init pars", q) {
			ia : par_real("Init a", [], 0)
		}
		
		par_group("Permissivity", q) {
			pm : par_real("Permissivity", [], 0)
		}
		
		par_group("Flow pars", q) {
			ff : par_real("Flow fraction", [], 0, 0, 1)
		}
		
		c : connection("Flow connection", all_to_all) { q* }

		flux(a.q, c, [day-1], "The flow") {
			q * ff * pm[below] =>>
		}
	}
	
	a : compartment("A")
	q : quantity("Q")
	
	sol : solver("Solver", "INCADascru", 0.1)
	solve(sol, a.q)
	
	i : index_set("I")
	j : index_set("J")
	
	distribute(q, i, j)
}
