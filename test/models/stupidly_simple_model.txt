
model("Simple test model") {
	
	a : compartment("A")
	q : quantity("Q")
	p : property("P")
	
	sol : solver("Solver", "INCADascru", 0.1)
	solve(sol, a.q)
	
	i : index_set("I")

	distribute(a, i)
	
	c : connection("The connection", grid1d) { a* }
	
	module("So very simple", version(1, 1, 0)) {
		
		var(a.q, [], "A Q") @initial { 0 }
		
		var(a.q.p, [], "Test")
		
		flux(nowhere, a.q[c.top], [day-1], "Top flux")  {
			sin(time.step*2*pi/365 =>[])=>>
		}
		
		flux(a.q, c, [day-1], "Shine-through") {
			in_flux(c, a.q) * 0.9
		}
	}
}
