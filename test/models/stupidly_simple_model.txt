
model("Simple test model") {
	
	md : module("So very simple", 1, 1, 0) {
		
		a : compartment("A")
		#b : compartment("B")
		
		q : quantity("q")
		
		a.has(q, unit(), "A.q") .initial { 100 }
		#b.has(q, unit(), "B.q") .initial { 0   }
		
		flix : flux(a.q, out, "The flux") {
			5
		}
	}
	
	a : compartment("A")
	#b : compartment("B")
	
	q : quantity("q")
	
	a.par_group("Weights") {
		agg : par_real("Aggregation weight", unit(), 0.1)
	}
	
	i : index_set("Index")
	
	a.distribute(i)
	
	nb : i.neighbor("Index neighbor", directed_tree)
	
	md.flix.to(nb)
	
	sol : solver("solver", "INCADascru", 0.1)
	
	a.q.solve(sol)
	
}
