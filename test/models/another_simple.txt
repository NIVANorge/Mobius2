

model("Another simple") {

	a : compartment("A")
	b : compartment("B")
	
	qf : property("Q!")
	
	i  : index_set("I")
	j  : index_set("J")
	k  : index_set("K") @union(i, j)
	
	distribute(a, k)
	distribute(b, j)
	
	module("So simple", version(2, 0, 0)) {

		par_group("The Q", a) {
			q : par_int("Q", [], 4)
		}

		var(a.qf, [], "Q!") {
			q
			/*
			i := 0,
			r := 1,
			p:{
				i <- i+1,
				{ r <- r*i, iterate p }  if i <= q,
				r                        otherwise
			}
			*/
		} @no_store
		
		test : property("Test")
		
		var(a.test, [], "Test") {
			a.qf
		}
	}
}