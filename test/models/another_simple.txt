

model("Another simple") {

	a : compartment("A")
	b : compartment("B")
	q : quantity("Q")
	r : quantity("R")
	
	i : index_set("I")
	distribute(b, i)
	d : connection("Grid", grid1d) { b* }
	
	
	sol : solver("Solver", "INCADascru", 0.1)
	solve(sol, a.q, b.q)

	module("So simple", version(1, 0, 0)) {
	
		test : property("Target")
		
		var(a.q, [])   @initial { 100000 }
		var(a.q.r, []) @initial_conc { 0.1 }
		
		var(a.test, []) { floor(10*0.5*(1 + sin((time.step=>[])*2*pi/150))) }
	
		var(b.q, []) @initial { 0 }
		var(b.q.r, [])
		
		
		flux(a.q, b.q[d.specific], [day-1], "Flixflux")
			{ 1[day-1] }
			@specific { test }
	
	}
}