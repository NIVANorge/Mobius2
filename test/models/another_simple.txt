

model("Another simple") {

	sp : module("So simple", 1, 0, 0) {
	
		place : compartment("Place")
		
		place.par_group("Flow pars") {
			flow_mag : par_real("Flow magnitude", unit(), 5)
		}
		
		place.has(stuff : quantity("Stuff"), unit()) .initial { 100 }
		
		the_flow : flux(place.stuff, out, "The flow") { flow_mag }
	}
	
	place : compartment("Place")
	stuff : quantity("Stuff")
	
	
	idx : index_set("Place index")
	place.distribute(idx)
	
	pnb : idx.neighbor("Place neighbor", directed_tree)
	
	sol : solver("My solver", "INCADascru", 0.1)
	place.stuff.solve(sol)
	
	sp.the_flow.to(pnb)
}