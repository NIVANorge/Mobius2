

model("Another simple") {

	module("So simple", version(1, 0, 0)) {
	
		#load("stdlib/basic_math.txt", library("Response"))
	
		var(a.q, []) @initial { 20 }
		
		var(b.q, []) @initial { 1 }
		
		var(c.q, [])
		
		flux(a.q, b.q[d.top], [day-1], "Flixflux") { 0.01[day-1]*q }
		
		flux(b.q[d.bottom], c.q, [day-1], "Fluxflix") { 0.01[day-1]*q[d.bottom] }
		#flux(a.q, b.q, [day-1], "Flixflux") { 0.01[day-1]*q }
		
		test : property("Test") 
		
		var(b.test, [day-1]) { in_flux(q) }
		
		var(c.test, [day-1]) { in_flux(q) }
	}
	a : compartment("A")
	b : compartment("B")
	c : compartment("C")
	q : quantity("Q")
	
	i : index_set("I")
	distribute(b, i)
	d : connection("Grid", grid1d) { b* }
	
	
	sol : solver("Solver", "INCADascru", 0.1)
	solve(sol, a.q, b.q)
}