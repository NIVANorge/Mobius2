data_set {
"""Parameters transfered from calibration to DeGeerelva observations over the whole time period (1991-2018) using a spatial setup with 4 elevation classes
"""

sc : index_set("Subcatchment") [ "Adventelva" ]

patch : index_set("Patch") [ "Glaciers" "Hill4_875" "Hill3_625" "Hill2_375" "Hill1_125" "Valleys" ]

connection("Downhill throughflow") {
	s : compartment("Soil", patch)
	river : compartment("River")

	directed_graph [
		s[ "Hill4_875" ] -> s[ "Hill3_625" ] -> s[ "Hill2_375" ] -> s[ "Hill1_125" ] -> s[ "Valleys" ] -> river[ ]
		s[ "Glaciers" ] -> river[ ]
	]
}

connection("Downstream") {
	r : compartment("River", sc)

	directed_graph [
		r[ "Adventelva" ] -> out
	]
}

series("../Adventelva_met_carra_shift_pptn-1.xlsx")

series("../q_advent_scaled_degeerdalen_obs_daily_6am-mean_shift-1D.xlsx")

series("../HBV_Adventelva_runoff_2015_and_2016.xlsx")

series("../adventelva_sensor_data_niva_2017-2022_6am_mean.xlsx")

par_group("System") {
	par_datetime("Start date")
	[ 1991-01-01 ]

	par_datetime("End date")
	[ 2022-08-31 ]
}

par_group("Catchment data") {
	par_real("Catchment area")
	[ 429 ]

	par_real("Elevation of input met data")
	[ 439 ]
}

par_group("Patch data", patch) {
	par_real("Relative area")
	[ 0.203 0.077 0.191 0.248 0.144 0.137 ]
}

module("SimplyQ river manual", version(0, 0, 1)) {
	par_group("Reach parameters", sc) {
		par_real("Reach length")
		[ 30000 ]

		par_real("Mean velocity")
		[ 3 ]
	}
}

module("SimplyGlacier", version(0, 0, 1)) {
	par_group("Glacier global") {
		par_real("Degree-day factor for ice melt")
		[ 8.6 ]

		par_real("Glacier accumulation coefficient")
		[ 0 ]
	}

	par_group("Glacier", sc, patch) {
		par_real("Initial ice thickness") [
			100000 0 0 0 0 0 
		]
	}
}

module("ArcticAtmosphere", version(0, 0, 1)) {
	par_group("Elevation data", sc, patch) {
		par_real("Average elevation") [
			644 837 601 380 179 73 
		]
	}

	par_group("Temperature correction") {
		par_real("Temp lapse rate")
		[ -0.00593 ]
	}
}

module("ArcticSnow", version(0, 0, 1)) {
	par_group("Snow") {
		par_real("Degree-day factor for snowmelt")
		[ 3.33 ]
	}

	par_group("Initial snow", patch) {
		par_real("Initial snow depth (water equivalents)")
		[ 0 200 0 0 0 0 ]
	}
}

module("SimplyPermafrost", version(0, 0, 1)) {
	par_group("Hydrology land", sc, patch) {
		par_real("Soil water time constant") [
			0.62 0.62 0.62 0.62 0.62 0.62 
		]

		par_real("Field capacity") [
			0 0 0 0 0 0 
		]
	}
}

module("SensorVariables", version(0, 0, 1)) {
	par_group("Sensor coefficients", sc) {
		par_real("Stage_a")
		[ 120 ]

		par_real("Stage_b")
		[ 2.7 ]

		par_real("Conductivity_a")
		[ -120 ]

		par_real("Conductivity_b")
		[ 641 ]
	}
}

}