
model("SimplyTox") {
	extend("simplyc_model.txt")
	
	load("../modules/simplytox.txt", module("SimplyTox"))
	load("../modules/rivertemp.txt", module("RiverTemperature"))
	
	tox   : quantity("Toxin")
	
	dsoil : compartment("Slow-accessible soil")
	
	dsoil.distribute(sc, lu)
	
	tox_idx : index_set("Toxin type")
	
	tox.distribute(tox_idx)
	
	simply_solver.solve(soil.oc)
	simply_solver.solve(dsoil.oc)
	#simply_solver.solve(soil.oc.tox)
	#simply_solver.solve(dsoil.oc.tox)
	
	# Hmm, some of these are a bit cumbersome, could it generate the ones for the dissolvedes based on what they are dissolved in, or try to?
	unit_conversion(soil.water.tox, river.water.tox) { a_catch->> }
	unit_conversion(gw.water.tox, river.water.tox) { a_catch->> }
	unit_conversion(soil.water.oc.tox, river.water.oc.tox) { a_catch->> }
}