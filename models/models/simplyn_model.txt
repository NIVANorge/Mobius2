

model("SimplyN") {

	extend("simplyq_model.txt")  # Load everything from the SimplyQ model into this scope.
	
	din  : quantity("Dissolved inorganic nitrogen")
	sn   : quantity("Solid fertilizer nitrogen")
	heat : quantity("Heat energy")
	
	load("modules/simplysoiltemp.txt", module("Simply soil temperature", air, soil, snow_box, snow, temp))
	load("modules/rivertemp.txt",      module("RiverTemperature", air, soil, river, water, heat, temp))
	load("modules/simplyn.txt",        module("SimplyN", air, soil, gw, river, water, din, sn, temp))
	
	#----------------------------------------------------------------	
    # Unit conversions where volumes or masses are different between compartments
	# connected by fluxes.
	# Unit conversion syntax is (from, to) {number to multiply by}
	
	# soil.water.din has unit [k g, k m-2]; river.water.din
	# has unit [k g]. Convert using a_catch [km 2]
	unit_conversion(soil.water.din, river.water.din) {  a_catch  }
	unit_conversion(gw.water.din, river.water.din)   {  a_catch  }	
}