index_set("Layer index") [ 50 ]

connection("Fjord vertical") [
	compartment("Fjord layer") [ "Layer index" ]
]

connection("Shortwave vertical") [
	compartment("Fjord layer") [ "Layer index" ]
]

series("nivafjord_test_series.xlsx")

par_group("System") {
	par_datetime("Start date")
	[ 1980-01-01 ]

	par_datetime("End date")
	[ 1983-12-31 ]
}

module("NIVAFjord", 0, 0, 1) {
	par_group("Layer parameters") [ "Layer index" ] {
		par_real("Layer area")
		[ 1000000 990000 980000 970000 960000 950000 940000 930000 920000 910000 900000 890000 880000 870000 860000 850000 840000 830000 820000 810000 800000 790000 780000 770000 760000 750000 740000 730000 720000 710000 700000 690000 680000 670000 660000 650000 640000 630000 620000 610000 600000 590000 580000 570000 560000 550000 540000 530000 520000 510000 ]

		par_real("Initial salinity")
		[ 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 35 ]

		par_real("Initial temperature")
		[ 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 ]
	}

	par_group("Mixing parameters") {
		par_real("Brunt-Väisälä frequency reference")
		[ 0.008 ]

		par_real("Mixing factor reference")
		[ 5e-05 ]

		par_real("Mixing non-linear coefficient")
		[ 1.4 ]

		par_real("Minimum B-V frequency")
		[ 0.007 ]

		par_real("Diffuse attenuation coefficent (clear water)")
		[ 0.2 ]

		#par_real("Wind friction coefficient")
		#[ 1 ]

		par_real("Surface additional mixing energy")
		[ 1e-10 ]

		par_real("Halving depth of additional mixing energy")
		[ 3 ]

		par_real("Diminishing rate of additional mixing energy")
		[ 4 ]
	}

	par_group("Sediment parameters") {
		par_real("Deep sediment temperature")
		[ 3 ]

		par_real("Depth of thermally active sediment layer")
		[ 10 ]

		par_real("Sediment thermal conductivity")
		[ 1.6 ]

		par_real("Sediment specific heat capacity")
		[ 4000 ]

		par_real("Sediment density")
		[ 2600 ]
	}
}

module("Atmospheric", 0, 1, 0) {
	par_group("Location") {
		par_real("Latitude")
		[ 60 ]

		par_real("Elevation")
		[ 0 ]
	}
}

